<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Billing-Site</title>

	<!-- Meta -->
	<meta name="description" content="Marketplace for Bootstrap Admin Dashboards" />
	<meta name="author" content="Bootstrap Gallery" />
	<link rel="canonical" href="https://www.bootstrap.gallery/">
	<meta property="og:url" content="https://www.bootstrap.gallery">
	<meta property="og:title" content="Admin Templates - Dashboard Templates | Bootstrap Gallery">
	<meta property="og:description" content="Marketplace for Bootstrap Admin Dashboards">
	<meta property="og:type" content="Website">
	<meta property="og:site_name" content="Bootstrap Gallery">
	<link rel="shortcut icon" href="~/images/favicon.ico" />
	<!-- Option 1: Include in HTML -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
	<link rel="stylesheet" href="~/css/main.css" />
	<!-- Scrollbar CSS -->
	@*<link rel="stylesheet" href="~/vendor/overlay-scroll/OverlayScrollbars.min.css" />*@
</head>

<body>
	<div class="message"></div>
	<!-- Page wrapper start -->
	<div class="page-wrapper">

		<!-- Main container start -->
		<div class="main-container">

			<!-- Sidebar wrapper start -->
			<nav id="sidebar" class="sidebar-wrapper">

				<!-- Sidebar profile starts -->
				<div class="sidebar-user-profile">
					@*<img src="~/images/NoorFood.png" class="sidebar-logo  img-side" alt="" />*@

				</div>
				<!-- Sidebar profile ends -->
				<!-- Sidebar menu starts -->
				<div class="sidebarMenuScroll">
					<ul class="sidebar-menu">
						<li class="active current-page">
							<a href="index.html">
								<i class="bi bi-shop-window"></i>
								<span class="menu-text">Sell </span>

							</a>
						</li>

						<li>
							<a href="report.html">
								<i class="bi bi-card-checklist"></i>
								<span class="menu-text">Report</span>
							</a>
						</li>

						<li>
							<a href="profile.html">
								<i class="bi bi-people-fill"></i>
								<span class="menu-text">Profile</span>
							</a>
						</li>

						<li class="treeview">
							<a href="user.html">
								<i class="bi bi-person-circle"></i>
								<span class="menu-text">Admin</span>
							</a>
							<ul class="treeview-menu">
								<li>
									<a href="user.html">Users</a>
								</li>
								<li>
									<a href="product.html">Products</a>
								</li>

								<li>
									<a href="role.html">Roles</a>
								</li>
							</ul>
						</li>
						<li class="treeview d-none">
							<a href="login.html">
								<i class="bi bi-upc-scan"></i>
								<span class="menu-text">Login/Signup</span>
							</a>
							<ul class="treeview-menu">
								<li>
									<a href="login.html">Login</a>
								</li>
								<li>
									<a href="signup.html">Signup</a>
								</li>
								<li>
									<a href="forgetPassword.html">Forget Password</a>
								</li>

							</ul>
						</li>

					</ul>
				</div>
				<!-- Sidebar menu ends -->

			</nav>
			<!-- Sidebar wrapper end -->
			<!-- App container starts -->
			<div class="app-container position-relative">

				<!-- App header starts -->
				<div class="app-header d-flex align-items-center">

					<!-- Toggle buttons start -->
					<div class="d-flex">
						<button class="btn btn-outline-primary me-2 toggle-sidebar" id="toggle-sidebar">
							<i class="bi bi-chevron-left fs-5" id="toggle-icon-btn"></i>
						</button>
						<button class="btn btn-outline-primary me-2 pin-sidebar" id="pin-sidebar">
							<i class="bi bi-chevron-left fs-5" id="icon-btn"></i>
						</button>
					</div>
					<!-- Toggle buttons end -->
					<!-- App brand sm start -->
					<div class="app-brand-sm d-lg-none d-sm-block">
						<a href="index.html">
							<img src="~/images/NoorFood.png" class="logo" alt="logo Gallery">
						</a>
					</div>
					<!-- App brand sm end -->
					<!-- App header actions start -->
					<div class="header-actions">
						<div class="d-lg-block d-none me-2">
						</div>

						<div class="dropdown ms-3">
							<a id="userSettings"
							   class="dropdown-toggle d-flex py-2 align-items-center text-decoration-none" href="#!"
							   role="button" data-bs-toggle="dropdown" aria-expanded="false">
								<span class="d-none d-md-block me-2">Noor Food</span>
								@*<img src="~/images/profile.avif" class="rounded-circle img-3x"
									 alt="Bootstrap Gallery" />*@
							</a>
							<div class="dropdown-menu dropdown-menu-end shadow">
								<a class="dropdown-item d-flex align-items-center" href="profile.html">
									<i class="bi bi-person fs-4 me-2"></i>Profile
								</a>

								<a class="dropdown-item d-flex align-items-center" href="#" onclick="myFunction()">
									<i class="bi bi-escape fs-4 me-2"></i>Logout
								</a>
							</div>
						</div>
					</div>
					<!-- App header actions end -->

				</div>
				<!-- App header ends -->
				<!-- App hero header starts -->
				<div class="app-hero-header d-none ">
					<h2 class="">Selling Details</h2>
				</div>
				<!-- App Hero header ends -->
				<!-- App body starts -->
				<div class="app-body h-100 mt-0">
					<div class="row">
						<div class="col-xxl-12">
							<div class="card shadow mb-4">
								<div class="card-body">
									<div class="row">
										<div class="col-md-12    col-lg-7 mt-3 mt-lg-0">
											<div class="d-flex  align-items-center">
												<h4>Sell details</h4>
											</div>
										</div>
										<div class="col-md-12   col-lg-2 mt-3 mt-lg-0">
											<div class="d-flex justify-content-lg-end align-items-center">
												<h5 class="me-1">Date:</h5>
												<h4> <span class="badge text-bg-light">08-05-2023</span></h4>

											</div>
										</div>
										<div class="col-md-12    col-lg-3 mt-3 mt-lg-0">

											<div class="d-flex justify-content-lg-end align-items-center">
												<h5 class="me-1">Bill No:</h5>
												<h4><span class="badge text-bg-light">12345</span></h4>

											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>


					<div class="row">
						<div class="col-xxl-12">
							<div class="card shadow mb-4">

								<div class="card-body">


									<hr class="mt-4">
									<div class="">
										<form  method="post" id="Sale" novalidate class="sell-form">
											<div id="dynamicRowsContainer">
												<!-- Dynamic rows will be added here -->
											</div>
											<div class="row form-group">
												<div class="col-sm-12   col-lg-4 mt-3 mt-lg-0">
													<div class="d-flex align-items-center">
														<label class=" form-label" style="width: 30%;"
															   for="customerName">Customer Name</label>
														<input type="text" class="form-control " style="width: 70%;" id="customerName" name="customerName" placeholder="Customer Name">
													</div>
												</div>
												<div class="col-sm-12   col-lg-4 mt-3 mt-lg-0">
													<div class="d-flex  align-items-center">
														<label class=" form-label " style="width:30%;" for="Address">Address</label>
														<input type="text" class=" form-control" style="width: 70%;" id="Address" name="Address" placeholder="Address" />
													</div>
												</div>
												<div class="col-sm-12   col-lg-4 mt-3 mt-lg-0">

													<div class="d-flex align-items-center">
														<label class=" form-label " style="width: 30%;" for="phone">
															Phone No.
														</label>
														<input type="number" class=" form-control" style="width: 70%;" id="phone" name="phone" placeholder="Enter phone " />
													</div>
												</div>
											</div>
											<div class="d-flex flex-column flex-lg-row" style="gap: 8px;">
												<div class="d-flex flex-column w-100 js-row">
													<div class="mb-2 sellFontWeight">Product Name</div>
													<div>
														<select class="form-select" required name="Pname" id="Pname">
															<option value="BROILER dressed chicken(with Skin)">
																BROILER
																dressed chicken(with Skin)
															</option>
															<option value="BROILER dressed chicken(without Skin)">
																BROILER dressed chicken(without Skin)
															</option>
															<option value="Big BROILER (WHOLE)">
																Big BROILER (WHOLE)
															</option>
															<option value="Small BROILER (WHOLE)">
																Small BROILER (WHOLE)
															</option>
															<option value="BROILER boneless">BROILER boneless</option>
															<option value="Layer chicken (whole)">
																Layer chicken (whole)
															</option>
															<option value="Layer chicken dressed">
																Layer chicken dressed
															</option>
															<option value="Cockerel (WHOLE)">Cockerel (WHOLE)</option>
															<option value="Goat meat">Goat meat</option>
															<option value="Egg">Egg</option>
														</select>
													</div>


												</div>

												<div class="d-flex flex-column w-100 js-row">
													<div class="mb-2 sellFontWeight">Weight(Per Gram)</div>
													<div>
														<input required type="text" placeholder="weight(per gram)" name="weight" id="weight" class="form-control">
													</div>


												</div>
												<div class="d-flex flex-column w-100 js-row">
													<div class="mb-2 sellFontWeight">Rate(Per KG)</div>
													<div>
														<input required type="text" placeholder="Rate" name="rate" id="rate" class="form-control">
													</div>


												</div>
												<div class="d-flex flex-column w-100 js-row">
													<div class="mb-2 sellFontWeight">Amount</div>
													<div>
														<input required type="text" placeholder="Amount" name="amount" id="amount" class="form-control">
													</div>


												</div>
												<div class="d-flex align-items-end  ">
													<div class="">
														<button type="submit" class="btn btn-primary sell-0  btn-save " data-rownum="sell-0" name="btn-add" id="sell-plus-btn-js">
															<i class="bi bi-plus-circle"></i>
														</button>
													</div>
												</div>


										</form>

									</div>

									<div class="row   mt-2  d-flex justify-content-center px-3  d-none table-data-js">
										<hr>
										<div class="table-responsive p-0 card-border p-2 mt-4">
											<table id="table-sell" class="table table-striped m-0">
												<thead>
													<tr>
														<th>Product Name</th>
														<th>Weight</th>
														<th>Rate</th>
														<th>Amount</th>
													</tr>
												</thead>
												<tbody>
												</tbody>
											</table>
										</div>

									</div>

									<!-- Row end -->

									<div class="card-footer">
										<div class="d-flex gap-2 justify-content-end">
											<button type="button" class="btn btn-info btn-lg  ">
												Cancel
											</button>
											<button type="button" class="btn btn-primary btn-lg px-4 btn-save-table-data">
												Save
											</button>
										</div>
									</div>
								</div>
							</div>
						</div>

					</div>
					<!-- App body ends -->




				</div>
				<!-- App footer start -->
				<div class="app-footer position-fixed bottom-0  w-100 " style="background-color: #e9edf2;">
					<h6>© Snmatrix 2023</h6>
				</div>
				<!-- App footer end -->
				<!-- App container ends -->

			</div>


		</div>

		<!-- Page wrapper end -->
		<!-- Required jQuery first, then Bootstrap Bundle JS -->
		<script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>	
		<script src="~/js/bootstrap.bundle.min.js"></script>
		<!-- Custom JS files -->
		@*<script src="~/js/custom.js"></script>*@
	@*	<script>
			
			$(document).on("click", ".btn-save-table-data", function (e) {
				debugger;
				//$('#Sale').submit(function (event) {
					debugger;
					event.preventDefault(); // Prevent the default form submission
				//   var formData = $('#Sale').serialize(); // Get the form data
				var currentDate = new Date();
				var formattedDate = currentDate.toISOString().replace(/T/, ' ').replace(/\..+/, '');
				// Set the SalesDetails.SaleDate
				
				//var SalesDetails = new Object();
				//SalesDetails.SaleDate=formattedDate;
				//SalesDetails.customerName = $('#customerName').val();
				//SalesDetails.CustomerAddress = $('#Address').val();
				//SalesDetails.CustomerPhNo = $('#phone').val();
				//SalesDetails.ProductName = $('#Pname').val();
				//SalesDetails.ProductWeight = $('#weight').val();
				//SalesDetails.ProductRate = $('#rate').val();
				//SalesDetails.Amount = $('#amount').val();

				var rowCounter = 0;

				// Handle click event on the "Add Row" button
				$("#sell-plus-btn-js").click(function () {
					// Increment the row counter
					rowCounter++;

					// Create a new row with unique IDs
					var newRow = `<div class="row form-group dynamic-row" data-rownum="${rowCounter}">
					<div class="d-flex align-items-end">
					  <button type="button" class="btn btn-danger btn-remove-row" data-rownum="${rowCounter}">
						<i class="bi bi-trash"></i> Remove
					  </button>
					</div>
				  </div>`;

					// Append the new row to the container
					$("#dynamicRowsContainer").append(newRow);
				});

				// Handle click event on the "Remove Row" button
				$(document).on("click", ".btn-remove-row", function () {
					// Get the row number from the data attribute
					var rownum = $(this).data("rownum");

					// Remove the corresponding dynamic row
					$(".dynamic-row[data-rownum='" + rownum + "']").remove();
				});

				// Handle form submission
			//	$(document).on("click", ".btn-save-table-data", function () {
					debugger;
					var salesDetailsArray = [];
					// Additional processing for dynamic rows
					$(".dynamic-row").each(function () {
						var rownum = $(this).data("rownum");

						// Prepare data for submission
						var formData = $("#Sale").serializeArray();
						// Add dynamic row data to the form data
						formData.push({
							name: "SaleDate" + rownum,
							value: formattedDate
						});
						formData.push({
							name: "customerName" + rownum,
							value: $(this).find(".customerName").val()
						});
						formData.push({
							name: "CustomerAddress" + rownum,
							value: $(this).find(".Address").val()
						});
						formData.push({
							name: "CustomerPhNo" + rownum,
							value: $(this).find(".phone").val()
						});
						formData.push({
							name: "ProductName_" + rownum,
							value: $(this).find(".Pname").val()
						});
						formData.push({
							name: "ProductWeight" + rownum,
							value: $(this).find(".Weight").val()
						});
						formData.push({
							name: "ProductRate" + rownum,
							value: $(this).find(".rate").val()
						}); 
						formData.push({
							name: "Amount" + rownum,
							value: $(this).find(".amount").val()
						});
						var salesDetailsObject = {};
						$.each(formData, function (i, field) {
							salesDetailsObject[field.name] = field.value;
						});

						// Add the SalesDetails object to the array
						salesDetailsArray.push(salesDetailsObject);
					});
					$.ajax({
						type: 'POST',
						url: '/Home/AddSale',
						//data: formData,
						contentType: 'application/json',
						data: JSON.stringify(salesDetailsArray),
						success: function (response) {
							console.log(response);
						},
						error: function (error) {
							// Handle errors
							console.log(error);
						}
					});

			//});
	  
		});

			//$(document).on("click", ".btn-save-table-data", function (e) {
			//	debugger;
			//	event.preventDefault();
			//	var salesDetailsArray = [];
			//	var currentDate = new Date();
			//	var formattedDate = currentDate.toISOString().replace(/T/, ' ').replace(/\..+/, '');

			//	// Prepare data for submission
			//	var formData = $("#Sale").serializeArray();
			////	var formData = $('#Sale').serialize();
			//	// Additional processing for dynamic rows
			////	$(".dynamic-row").each(function () {
			//		var rownum = $(this).data("rownum");

			//		// Add dynamic row data to the form data
			//		//formData.push({
			//		//	name: "SaleDate" + rownum,
			//		//	value: formattedDate
			//		//});
			//		//formData.push({
			//		//	name: "customerName" + rownum,
			//		//	value: $(this).find(".customerName").val()
			//		//});
			//		//formData.push({
			//		//	name: "CustomerAddress" + rownum,
			//		//	value: $(this).find(".Address").val()
			//		//});
			//		//formData.push({
			//		//	name: "CustomerPhNo" + rownum,
			//		//	value: $(this).find(".phone").val()
			//		//});
			//		//formData.push({
			//		//	name: "ProductName_" + rownum,
			//		//	value: $(this).find(".Pname").val()
			//		//});
			//		//formData.push({
			//		//	name: "ProductWeight" + rownum,
			//		//	value: $(this).find(".Weight").val()
			//		//});
			//		//formData.push({
			//		//	name: "ProductRate" + rownum,
			//		//	value: $(this).find(".rate").val()
			//		//});
			//		//formData.push({
			//		//	name: "Amount" + rownum,
			//		//	value: $(this).find(".amount").val()
			//		//});

			//	var salesDetailsObject = {
			//		SaleDate: formattedDate,
			//		customerName: $('#customerName').val(),
			//		CustomerAddress: $('#Address').val(),
			//		CustomerPhNo: $('#phone').val(),
			//		ProductName: $('#Pname').val(),
			//		ProductWeight: $('#Weight').val(),
			//		ProductRate: $('#rate').val(),
			//		Amount: $('#amount').val()
			//	};

			//	// Add the SalesDetails object to the array
			//	salesDetailsArray.push(salesDetailsObject);
			////	});

			

			//	// Construct array of sales details objects
			//	$(".dynamic-row").each(function () {
			//		var rownum = $(this).data("rownum");
			//		var salesDetailsObject = {};
			//		$.each(formData, function (i, field) {
			//			salesDetailsObject[field.name] = field.value;
			//		});

			//		// Add the SalesDetails object to the array
			//		salesDetailsArray.push(salesDetailsObject);
			//	});
			//	console.log(JSON.stringify(salesDetailsArray));
			//	$.ajax({
			//		type: 'POST',
			//		url: '/Home/AddSale',
			//		contentType: 'application/json',
			//		data: JSON.stringify(salesDetailsArray), //JSON.stringify(salesDetailsArray),
			//		success: function (response) {
			//			console.log(response);
			//		},
			//		error: function (error) {
			//			console.log(error);
			//		}
			//	});
			//});

		</script>*@

</body>

</html>